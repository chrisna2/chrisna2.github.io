---
title: "[리눅스] 사용자 관리 - 사용자 계정 관리[2] : passwd"
date: 2020-07-31 11:00:28 -0400
categories: Linux 사용자 관리
---

## 사용자 관리 

### 사용자 계정 관리 - passwd

#### [1] passwd : 사용자 계정 password 변경
- useradd 명령어를 통해 사용자를 생성하고 나면 패스워드를 설정하기 전까지 로그인 할 수 없음.
- passwd를 통해 패스워드 설정
- 패스워드를 입력 후 사용자의 패스워드를 삭제, 변경기간을 설정하는 등의 관리 목적으로 사용할 수 있다.

```s
$ passwd [options] [username]
```

#### [2] 옵션
|옵션|설명|
|:---|:---|
|-d, --delete|패스워드를 삭제한다. 비밀번호 없이 로그인할 수 있다.|
|-e, --expire|-사용자의 패스워드를 만료한다.<br/>-사용자는 다음 로그인 때 패스워드를 변경해야 한다.|
|-i, --inactive|-사용자의 패스워드가 만료된 이후로 사용자 계정을 비활성화할 때까지 유예기간을 일수로 지정한다.|
|-l, --lock|사용자의 패스워드에 락(lock)을 걸어 로그인 막는다.|
|-n, --mindays|-비밀번호를 변경할 수 있을 때까지 유지해야 할 일수를 설정한다.<br/>- 0으로 설정하면 언제든지 패스워드를 변경할 수 있다.|
|-q, --quiet|아무런 화면 출력 없이 명령을 수행한다.|
|-S, --status|-사용자의 로그인명<br/>-패스워드 상태<br/>-패스워드 설정 여부<br/>-마지막으로 변경한 날짜<br/>-패스워드 변경까지 남은 기간 등 다양한 정보를 얻을 수 있다.|
|-u, --unlock|-l 옵션으로 락을 걸었던 패스워드를 다시 해제한다.|
|-w, --warndays|패스워드 만료 전 경고 날짜를 지정한다.|
|-x, --maxdays|패스워드 최대 사용기간을 설정한다.|


#### [3] 사용자 패스워드 관리 예제
```bash
### root 만 패스워드 설정 가능
$ sudo passwd blue

### 현재 사용자의 패스워드를 변경
$ passwd

### 지정한 사용자의 패스워드를 만료한다. 다음 로그인 시 패스워드를 재지정해야 한다.
$ sudo passwd -e test

### 지정한 사용자의 패스워드 상태를 출력
$ sudo passwd -S blue

### 지정한 사용자의 패스워드에 락을 건다. 관리자가 -u 옵션을 사용하여 언락할 때까지 로그인 할 수있다.
$ sudo passwd -l blue

### 지정한 사용자의 패스워드를 삭제한다. /etc/shadow의 2번째 필드인 패스워드를 삭제한다. 이 경우 아이디만 입력하여도 로그인 할 수 있다.
$ sudo passwd -d blue

### 패스워드를 변경한 후 7일간 다시 변경할 수 없다. 
### 패스워드는 365일간 사용할 수 있다.
### 5일 전부터 패스워드 변경 경고를 한다.
### 패스워드 만료 후 10일의 유예기간이 있다.
$ sudo passwd -n 7 -x 365 -w 5 -i 10 blue
```